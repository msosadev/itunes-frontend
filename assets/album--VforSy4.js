import{o as e,w as x,x as f,a}from"./chunk-NL6KNZEE-COrKcMPs.js";import{S as g}from"./SongList-CCzQ55i-.js";import{P as m}from"./PageError-_sgFpaL9.js";import{B as h}from"./Badge-rjnUmFna.js";import{P as j}from"./PageLoadingSpinner-BPt_1PT7.js";import"./SongContext-C9AI-YLp.js";import"./createLucideIcon-BiP2d-W3.js";const b="/itunes-frontend/assets/Parental_Advisory_label-CuAoYR51.svg";function N(){return e.jsx("img",{src:b,className:"max-w-14",alt:"Explicit tag"})}const A=x(function(){const{albumId:i}=f(),[t,d]=a.useState(null),[l,n]=a.useState(null),[p,o]=a.useState(!0);if(a.useEffect(()=>{if(!i){n("Missing albumId"),o(!1);return}fetch(`https://itunes.apple.com/lookup?id=${i}&entity=song`).then(r=>{if(!r.ok)throw new Error("Failed to fetch album");return r.json()}).then(d).catch(r=>n(r.message)).finally(()=>o(!1))},[i]),p)return e.jsx(j,{});if(t&&t.resultCount===0)return e.jsx(m,{title:"Album not found",description:"No album found with the provided ID."});if(l||!t)return e.jsx(m,{title:"Error",description:l||"Unknown error"});const s=t.results[0],c=t.results.slice(1),u=new Date(s.releaseDate).getFullYear();return e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 bg-gray-800 border-b pb-8 pt-10 border-gray-700",children:e.jsxs("div",{className:"flex items-start gap-4 wrapper",children:[e.jsx("img",{className:"size-24 rounded-lg",src:s.artworkUrl100,alt:s.collectionName}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3",children:[e.jsx("h1",{className:"text-4xl/tight font-bold line-clamp-2",children:s.collectionName}),s.primaryGenreName&&e.jsx(h,{label:s.primaryGenreName})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("p",{className:"text-gray-400",children:u}),s.collectionExplicitness==="explicit"&&e.jsx(N,{})]})]})]})}),e.jsx("div",{className:"wrapper",children:c.length>0?e.jsx(g,{infoToShow:["artistName"],songs:c}):e.jsx("p",{children:"No songs found for this album"})})]})});export{A as default};
