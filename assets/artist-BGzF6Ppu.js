import{o as e,w as y,x as S,a as i}from"./chunk-NL6KNZEE-COrKcMPs.js";import{S as E,A as h}from"./AlbumsGrid-CG9rpf5L.js";import{B as T}from"./Badge-rjnUmFna.js";import{c as P}from"./createLucideIcon-BiP2d-W3.js";import{S as A}from"./SongList-CCzQ55i-.js";import{P as x}from"./PageError-_sgFpaL9.js";import{P as L}from"./PageLoadingSpinner-BPt_1PT7.js";import"./SongContext-C9AI-YLp.js";/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],F=P("external-link",C),M="/itunes-frontend/assets/artist-hero-fallback-f_zgasOf.jpg",U=({artistInfo:r,heroVideo:s})=>!r||!r.artistName?null:e.jsxs("div",{className:"relative h-[320px] md:h-[500px]",children:[e.jsx("div",{className:"z-[2] absolute inset-x-0 wrapper bottom-6 flex items-start gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("h1",{className:"text-6xl/tight font-bold line-clamp-2",children:r.artistName}),r.primaryGenreName&&e.jsx(T,{label:r.primaryGenreName})]}),e.jsxs("a",{target:"blank",className:"flex items-center gap-1",href:r.artistLinkUrl,children:["iTunes Page ",e.jsx(F,{width:16,height:16})]})]})}),e.jsx("div",{className:"overlay absolute inset-0 z-[1] bg-gradient-to-t from-black to-transparent"}),s?e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,src:s,className:"absolute inset-0 w-full h-full object-cover"}):e.jsx("img",{className:"w-full h-full object-cover",src:M,alt:"Artist hero"})]}),V=y(function(){var u,p;const{artistId:s}=S(),[o,w]=i.useState(null),[l,n]=i.useState(null),[g,c]=i.useState(!0);if(i.useEffect(()=>{if(!s){n("Missing artistId"),c(!1);return}async function t(){try{const a=await fetch(`https://itunes.apple.com/lookup?id=${s}&entity=song&limit=10`);if(!a.ok)throw new Error("Failed to fetch artist");const k=await a.json(),d=await fetch(`https://itunes.apple.com/lookup?id=${s}&entity=album`);if(!d.ok)throw new Error("Failed to fetch albums");const N=await d.json(),f=await fetch(`https://itunes.apple.com/lookup?id=${s}&entity=musicVideo&limit=1`);if(!f.ok)throw new Error("Failed to fetch music video");const D=await f.json();w({...k,albums:N.results,video:D})}catch(a){n(a.message)}finally{c(!1)}}t()},[s]),g)return e.jsx(L,{});if(o&&o.resultCount===0)return e.jsx(x,{title:"Artist not found",description:"No artist found with the provided ID."});if(l||!o)return e.jsx(x,{title:"Error",description:l||"Unknown error"});const j=o.results[0],b=o.results.slice(1),m=o.albums.slice(1),v=(p=(u=o.video.results)==null?void 0:u[1])==null?void 0:p.previewUrl;return e.jsxs("div",{children:[e.jsx(U,{artistInfo:j,heroVideo:v}),e.jsxs("div",{className:"wrapper",children:[e.jsx(E,{title:"Top Songs"}),e.jsx(A,{songs:b,infoToShow:["collectionName","artworkUrl100"]})]}),e.jsxs("div",{className:"mt-8 wrapper",children:[e.jsx(h,{infoToShow:["releaseDate"],albums:m.filter(t=>t.trackCount>1).sort((t,a)=>new Date(a.releaseDate).getTime()-new Date(t.releaseDate).getTime()),title:"Albums & EPs"}),e.jsx(h,{infoToShow:["releaseDate"],albums:m.filter(t=>t.trackCount===1).sort((t,a)=>new Date(a.releaseDate).getTime()-new Date(t.releaseDate).getTime()),title:"Singles"})]})]})});export{V as default};
