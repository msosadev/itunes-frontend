import{o as e,w as D,t as y,a as i}from"./chunk-NL6KNZEE-Dc8vaAUU.js";import{S,A as h}from"./AlbumsGrid-DAUWK49j.js";import{B as E}from"./Badge-COguMPzq.js";import{c as T}from"./createLucideIcon-C0lJV8vF.js";import{S as P}from"./SongList-Bj2bMWQH.js";import{P as A}from"./PageError-BSTr7m6V.js";/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],F=T("external-link",L),M="/itunes-frontend/assets/artist-hero-fallback-f_zgasOf.jpg",U=({artistInfo:r,heroVideo:s})=>!r||!r.artistName?null:e.jsxs("div",{className:"relative h-[500px]",children:[e.jsx("div",{className:"z-[2] absolute inset-x-0 wrapper bottom-6 flex items-start gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("h1",{className:"text-6xl/tight font-bold line-clamp-2",children:r.artistName}),e.jsx(E,{label:r.primaryGenreName})]}),e.jsxs("a",{target:"blank",className:"flex items-center gap-1",href:r.artistLinkUrl,children:["iTunes Page ",e.jsx(F,{width:16,height:16})]})]})}),e.jsx("div",{className:"overlay absolute inset-0 z-[1] bg-gradient-to-t from-black to-transparent"}),s?e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,src:s,className:"absolute inset-0 w-full h-full object-cover"}):e.jsx("img",{className:"w-full h-full object-cover",src:M,alt:"Artist hero"})]}),B=D(function(){var u,p;const{artistId:s}=y(),[o,x]=i.useState(null),[l,n]=i.useState(null),[w,c]=i.useState(!0);if(i.useEffect(()=>{if(!s){n("Missing artistId"),c(!1);return}async function t(){try{const a=await fetch(`https://itunes.apple.com/lookup?id=${s}&entity=song&limit=10`);if(!a.ok)throw new Error("Failed to fetch artist");const v=await a.json(),d=await fetch(`https://itunes.apple.com/lookup?id=${s}&entity=album`);if(!d.ok)throw new Error("Failed to fetch albums");const k=await d.json(),f=await fetch(`https://itunes.apple.com/lookup?id=${s}&entity=musicVideo&limit=1`);if(!f.ok)throw new Error("Failed to fetch music video");const N=await f.json();x({...v,albums:k.results,video:N})}catch(a){n(a.message)}finally{c(!1)}}t()},[s]),w)return e.jsx("div",{className:"wrapper",children:"Loading..."});if(l||!o)return e.jsx(A,{title:"Error",description:l||"Unknown error"});const g=o.results[0],j=o.results.slice(1),m=o.albums.slice(1),b=(p=(u=o.video.results)==null?void 0:u[1])==null?void 0:p.previewUrl;return e.jsxs("div",{children:[e.jsx(U,{artistInfo:g,heroVideo:b}),e.jsxs("div",{className:"wrapper",children:[e.jsx(S,{title:"Top Songs"}),e.jsx(P,{songs:j,infoToShow:["collectionName","artworkUrl100"]})]}),e.jsxs("div",{className:"mt-8 wrapper",children:[e.jsx(h,{infoToShow:["releaseDate"],albums:m.filter(t=>t.trackCount>1).sort((t,a)=>new Date(a.releaseDate).getTime()-new Date(t.releaseDate).getTime()),title:"Albums & EPs"}),e.jsx(h,{infoToShow:["releaseDate"],albums:m.filter(t=>t.trackCount===1).sort((t,a)=>new Date(a.releaseDate).getTime()-new Date(t.releaseDate).getTime()),title:"Singles"})]})]})});export{B as default};
